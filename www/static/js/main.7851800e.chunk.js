(this["webpackJsonpsmartgarden-assets-new"]=this["webpackJsonpsmartgarden-assets-new"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n,a=c(1),s=c.n(a),i=c(26),l=c.n(i),r=c(12),o=c(5),u=(c(35),c(9)),d=c(2),j=c(3),b=(c(36),"4fafc201-1fb5-459e-8fcc-c5c9c331914b"),m="4de76262-8d84-4ba6-bb3a-2f2716a6c28f",h="6bef33fc-dadc-408e-98e9-d6c8cb35e976",O="40a47f70-752b-4598-91ad-748cdbc7958a",f=c(27),k=c.n(f),x=c(16),g=c.n(x),v=c(0);var p=function(e){var t=e.temperature,c=e.temperatureGround,s=e.moisture,i=Object(a.useRef)(null),l=Object(a.useRef)(null),r=Object(a.useState)([]),o=Object(d.a)(r,2),j=o[0],b=o[1],m=Object(a.useState)([]),h=Object(d.a)(m,2),O=h[0],f=h[1],x=Object(a.useState)([]),p=Object(d.a)(x,2),N=p[0],w=p[1];return Object(a.useEffect)((function(){n=new k.a(i.current.getContext("2d"),{type:"line",data:{datasets:[{label:"Temperature 1",yAxisID:"y",backgroundColor:"rgba(255, 0, 0, 0.3)",borderColor:"rgba(255, 0, 0, 0.4)"},{label:"Temperature 2",yAxisID:"y",backgroundColor:"rgba(0, 255, 0, 0.3)",borderColor:"rgba(0, 255, 0, 0.4)"},{label:"Moist",yAxisID:"y1",backgroundColor:"rgba(0, 0, 255, 0.3)",borderColor:"rgba(0, 0, 255, 0.4)",fill:!0}]},options:{animation:!1,scales:{y:{type:"linear",display:!0,position:"left",ticks:{callback:function(e,t,c){return"".concat(e," \xb0C")}}},y1:{type:"linear",display:!0,position:"right",ticks:{callback:function(e,t,c){return"".concat(e," %")}},grid:{drawOnChartArea:!1}}}}}),g.a.modal(l.current).show()}),[]),Object(a.useEffect)((function(){t&&c&&s&&(b([].concat(Object(u.a)(j),[t])),f([].concat(Object(u.a)(O),[c])),w([].concat(Object(u.a)(N),[s])),n.data.labels=j.slice(Math.max(j.length-20,0)).map((function(e,t){return t})),n.data.datasets[0].data=j.slice(Math.max(j.length-20,0)),n.data.datasets[1].data=O.slice(Math.max(O.length-20,0)),n.data.datasets[2].data=N.slice(Math.max(N.length-20,0)),n.update())}),[t]),Object(v.jsx)("div",{className:"uk-section uk-section-small",children:Object(v.jsxs)("div",{className:"uk-container",children:[Object(v.jsx)("h2",{className:"uk-heading-line uk-text-center",children:Object(v.jsx)("span",{children:"Details"})}),Object(v.jsx)("canvas",{style:{height:"80vh"},ref:i})]})})};var N=function(e){var t=e.temperature,c=e.temperatureGround,n=e.moisture,a=e.watering;return Object(v.jsx)("div",{children:Object(v.jsx)(p,{temperature:t,temperatureGround:c,moisture:n,watering:a})})};var w=function(e){var t=e.temperature,c=e.temperatureGround,n=e.moisture,a=e.watering,s=e.setShowDiagram;return Object(v.jsxs)("div",{className:"uk-section uk-section-small",children:[Object(v.jsx)("div",{className:"uk-container",children:Object(v.jsxs)("div",{className:"uk-child-width-1-2 uk-grid-small uk-grid-match uk-text-center","uk-grid":"true",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(v.jsx)("span",{className:"uk-display-block uk-text-large",children:Object(v.jsx)("i",{className:"fas fa-temperature-high"})}),Object(v.jsxs)("span",{className:"uk-h4",children:[t," \xb0C"]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(v.jsx)("span",{className:"uk-display-block uk-text-large",children:Object(v.jsx)("i",{className:"fas fa-temperature-high"})}),Object(v.jsxs)("span",{className:"uk-h4",children:[c," \xb0C"]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(v.jsx)("span",{className:"uk-display-block uk-text-large",children:Object(v.jsx)("i",{className:"fas fa-water"})}),Object(v.jsxs)("span",{className:"uk-h4",children:[n," %"]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"uk-card uk-card-default uk-card-body",children:[Object(v.jsx)("span",{className:"uk-display-block uk-text-large",children:Object(v.jsx)("i",{className:"fas fa-power-off"})}),Object(v.jsx)("span",{className:"uk-h4",children:a})]})})]})}),Object(v.jsx)("div",{className:"uk-container uk-margin-top",children:Object(v.jsx)("button",{className:"uk-button uk-button-default uk-width-1-1 uk-margin-small-bottom",onClick:function(){s(!0)},"uk-toggle":"true",children:Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fas fa-chart-area"})," Details"]})})}),Object(v.jsx)("div",{className:"uk-container",children:Object(v.jsxs)(r.b,{className:"uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom",to:"/watering",children:[Object(v.jsx)("i",{className:"fas fa-hand-holding-water"})," Bew\xe4sserung"]})})]})};var y=function(){return Object(v.jsx)("div",{className:"uk-section uk-section-small uk-section-muted",children:Object(v.jsxs)("div",{className:"uk-container",children:[Object(v.jsx)("h2",{className:"uk-heading-line uk-text-center",children:Object(v.jsx)("span",{children:"Gartenmonat"})}),Object(v.jsxs)("div",{className:"uk-position-relative uk-visible-toggle uk-dark",tabIndex:"-1","uk-slider":"center: true",children:[Object(v.jsxs)("ul",{className:"uk-slider-items uk-grid",children:[Object(v.jsx)("li",{className:"uk-width-3-4",children:Object(v.jsxs)("div",{className:"uk-card uk-card-default",children:[Object(v.jsx)("div",{className:"uk-card-media-top",children:Object(v.jsx)("img",{src:"images/photo.jpg",alt:""})}),Object(v.jsxs)("div",{className:"uk-card-body",children:[Object(v.jsx)("h3",{className:"uk-card-title",children:"April"}),Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt."})]})]})}),Object(v.jsx)("li",{className:"uk-width-3-4",children:Object(v.jsxs)("div",{className:"uk-card uk-card-default",children:[Object(v.jsx)("div",{className:"uk-card-media-top",children:Object(v.jsx)("img",{src:"images/photo.jpg",alt:""})}),Object(v.jsxs)("div",{className:"uk-card-body",children:[Object(v.jsx)("h3",{className:"uk-card-title",children:"Mai"}),Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt."})]})]})})]}),Object(v.jsx)("button",{className:"uk-position-center-left uk-position-small uk-hidden-hover",href:"#prev","uk-slidenav-previous":"true","uk-slider-item":"previous",children:"\xa0"}),Object(v.jsx)("button",{className:"uk-position-center-right uk-position-small uk-hidden-hover",href:"#next","uk-slidenav-next":"true","uk-slider-item":"next",children:"\xa0"})]})]})})},S=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))};var C=function(e){var t=e.connected,c=e.device,n=Object(a.useState)(!1),s=Object(d.a)(n,2),i=s[0],l=s[1],r=Object(a.useState)(null),o=Object(d.a)(r,2),u=o[0],j=o[1],m=Object(a.useState)(null),h=Object(d.a)(m,2),O=h[0],f=h[1],k=Object(a.useState)(null),x=Object(d.a)(k,2),g=x[0],p=x[1],C=Object(a.useState)(null),T=Object(d.a)(C,2),D=T[0],E=T[1];return Object(a.useEffect)((function(){if(t&&null!==c){var e=function(){window.ble.read(c.id,b,"beb5483e-36e1-4688-b7f5-ea07361b26a8",(function(e){console.log("setTemperature",S(e)),j(S(e))}),(function(){})),window.ble.read(c.id,b,"a10b02a4-3b1c-45b5-a617-5648120f8e4c",(function(e){console.log("setTemperatureGround",S(e)),f(S(e))}),(function(){})),window.ble.read(c.id,b,"9a0c0611-a48f-4dbc-bde2-31582e606ee5",(function(e){console.log("setMoisture",S(e)),p(S(e))}),(function(){})),window.ble.read(c.id,b,"c3134125-b92d-479f-a437-2de8cea412e7",(function(e){console.log("setWatering",S(e)),E(S(e))}),(function(){}))};e();var n=setInterval(e,3e3);return function(){clearInterval(n)}}}),[t,c]),Object(v.jsxs)(v.Fragment,{children:[t&&!i&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(w,{temperature:u,temperatureGround:O,moisture:g,watering:D,setShowDiagram:l}),Object(v.jsx)(y,{})]}),t&&i&&Object(v.jsx)(N,{temperature:u,temperatureGround:O,moisture:g,watering:D})]})},T=c(11),D=c(6),E=c(29),_=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},I=function(e){for(var t=new Uint8Array(e.length),c=0,n=e.length;c<n;c++)t[c]=e.charCodeAt(c);return t.buffer};var A=function(e){var t=e.device,c=Object(a.useState)(null),n=Object(d.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)(null),r=Object(d.a)(l,2),o=r[0],u=r[1],j=Object(a.useState)(null),f=Object(d.a)(j,2),k=f[0],x=f[1],g=Object(a.useState)({dateTime:""|s,location:""|o,flowRate:""|k}),p=Object(d.a)(g,2),N=p[0],w=p[1],y=function(e){w((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){t&&(window.ble.read(t.id,b,m,(function(e){console.log("setDateTime",_(e)),i(_(e))}),(function(e){console.log(e)})),window.ble.read(t.id,b,h,(function(e){console.log("setLocation",_(e)),u(_(e))}),(function(e){console.log(e)})),window.ble.read(t.id,b,O,(function(e){console.log("setFlowRate",_(e)),x(_(e))}),(function(e){console.log(e)})))}),[t]),Object(a.useEffect)((function(){s&&w((function(e){return Object(D.a)(Object(D.a)({},e),{},{dateTime:s})})),o&&w((function(e){return Object(D.a)(Object(D.a)({},e),{},{location:o})})),k&&w((function(e){return Object(D.a)(Object(D.a)({},e),{},{flowRate:k})}))}),[s,o,k]),Object(v.jsx)("div",{className:"uk-section uk-section-small",children:Object(v.jsx)("div",{className:"uk-container",children:Object(v.jsxs)("form",{className:"uk-form-stacked",onSubmit:function(e){e.preventDefault(),window.ble.write(t.id,b,m,I(N.dateTime),(function(e){})),window.ble.write(t.id,b,h,I(N.location),(function(e){})),window.ble.write(t.id,b,O,I(N.flowRate),(function(e){}))},children:[Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Datum und Uhrzeit"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsx)("input",{className:"uk-input",type:"date-time",name:"dateTime",value:N.dateTime,onChange:y})})]}),Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Location"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsxs)("div",{className:"uk-inline uk-width-1-1",children:[Object(v.jsx)("button",{type:"button",className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: location",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){console.log(Object(E.getSunrise)(e.coords.latitude,e.coords.longitude)),u("".concat(e.coords.latitude,";").concat(e.coords.longitude))}),(function(e){console.log(e)}))}}),Object(v.jsx)("input",{className:"uk-input",type:"text",name:"location",value:N.location,onChange:y})]})})]}),Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Flu\xdfrate"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsx)("input",{className:"uk-input",type:"text",name:"flowRate",value:N.flowRate,onChange:y})})]}),Object(v.jsx)("div",{className:"uk-margin",children:Object(v.jsx)("button",{className:"uk-button uk-button-primary uk-width-1-1",type:"submit",children:"Speichern"})})]})})})};c(62);var G=function(e){var t=e.device,c=e.onClick;return Object(v.jsxs)("div",{className:"s-device",onClick:c,children:[Object(v.jsx)("h2",{className:"s-device__name",children:t.name}),Object(v.jsxs)("p",{className:"s-device__info",children:["id: ",t.id," RSSI: ",t.rssi]}),Object(v.jsx)("span",{className:"s-device__icon"}),Object(v.jsx)("span",{className:"s-device__arrow"})]})};c(63);var P=function(e){return Object(v.jsxs)("div",{className:"s-loading",children:[Object(v.jsx)("span",{className:"s-loading__circle"}),Object(v.jsx)("span",{className:"s-loading__icon"}),Object(v.jsx)("span",{className:"s-loading__text",children:"Suche Ger\xe4te..."})]})};c(64);var F=function(e){var t=e.isScanning,c=e.scan,n=e.devices,s=e.selectDevice,i=Object(a.useState)(null),l=Object(d.a)(i,2),r=l[0],o=l[1],u=Object(a.createRef)(),j=function(e){s(r,e)};return Object(v.jsxs)(v.Fragment,{children:[t&&Object(v.jsx)(P,{}),!t&&0===n.length&&Object(v.jsxs)("div",{className:"s-not-found",children:[Object(v.jsx)("span",{className:"s-not-found__icon"}),Object(v.jsx)("span",{className:"s-not-found__text",children:"Keine Ger\xe4te gefunden"})]}),n.length>0&&Object(v.jsx)("div",{children:n.map((function(e){return Object(v.jsx)(G,{device:e,onClick:function(){!function(e){o(e)}(e)}},e.name)}))}),!t&&Object(v.jsx)("button",{className:"uk-button uk-button-default uk-width-1-1 uk-margin-small-bottom",onClick:function(){c()},children:Object(v.jsxs)("span",{children:[Object(v.jsx)("i",{className:"fas fa-redo"})," Erneut suchen"]})}),r&&Object(v.jsx)("div",{ref:u,"uk-modal":"true",className:"uk-open",style:{display:"block"},children:Object(v.jsxs)("div",{className:"uk-modal-dialog uk-modal-body",children:[Object(v.jsx)("h2",{className:"uk-modal-title",children:"Ger\xe4t"}),Object(v.jsx)("p",{children:"M\xf6chtest Du Dich beim n\xe4chsten mal direkt mit diesem Ger\xe4t verbinden?"}),Object(v.jsxs)("p",{className:"uk-text-right",children:[Object(v.jsx)("button",{className:"uk-button uk-button-default",type:"button",onClick:function(){j(!1)},children:"Nein"}),Object(v.jsx)("button",{className:"uk-button uk-button-primary",type:"button",onClick:function(){j(!0)},children:"Ja"})]})]})})]})};var B=function(e){var t=e.isScanning,c=e.scan,n=e.devices,a=e.selectDevice;return Object(v.jsx)("div",{className:"uk-section uk-section-small",children:Object(v.jsx)("div",{className:"uk-container",children:Object(v.jsx)(F,{isScanning:t,scan:c,devices:n,selectDevice:a})})})};var R=function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),l=i[0],r=i[1],o=Object(a.useState)(0),j=Object(d.a)(o,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(d.a)(h,2),f=O[0],k=O[1],x=Object(a.useState)(!1),g=Object(d.a)(x,2),p=g[0],N=g[1],w={startTime:"12:00",duration:360,interval:0,smart:!1},y=Object(a.useState)(w),S=Object(d.a)(y,2),C=S[0],E=S[1],_=function(e){E((function(t){return Object(D.a)(Object(D.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))};return Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)("div",{className:"uk-section uk-section-small",children:Object(v.jsxs)("div",{className:"uk-container",children:[!c&&Object(v.jsx)("div",{"uk-alert":"true",children:"Es ist noch kein Programm aktiv."}),Object(v.jsxs)("form",{"uk-grid":"true",children:[Object(v.jsxs)("div",{className:"uk-width-1-1",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Aktives Programm"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsxs)("select",{value:c,onChange:function(e){n(e.target.value),r(!0)},name:"activeProgram",className:"uk-select",children:[!c&&0===f.length&&Object(v.jsx)("option",{value:"0",children:"Keine Programme"}),f.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("option",{value:"0",children:"Bitte w\xe4hlen"}),f.map((function(e,t){return Object(v.jsxs)("option",{value:t+1,children:["Programm ",t+1]},t+1)}))]})]})}),l&&Object(v.jsx)("button",{className:"uk-button uk-margin-top uk-button-primary uk-width-1-1",type:"button",onClick:function(){console.log("should send active program to device",f[c-1]),r(!1)},children:"\xc4nderung Speichern"})]}),Object(v.jsxs)("div",{className:"uk-width-3-4",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Programm bearbeiten"}),Object(v.jsx)("div",{className:"uk-inline uk-width-1-1",children:Object(v.jsxs)("select",{value:b,onChange:function(e){N(!1),m(e.target.value),E(f[e.target.value-1])},name:"profile",className:"uk-select",children:[0===f.length&&Object(v.jsx)("option",{value:"0",children:"Keine Programme"}),f.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("option",{value:"0",children:"Bitte w\xe4hlen"}),f.map((function(e,t){return Object(v.jsxs)("option",{value:t+1,children:["Programm ",t+1]},t+1)}))]})]})})]}),Object(v.jsxs)("div",{className:"uk-width-1-4",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"\xa0"}),Object(v.jsx)("button",{className:"uk-button uk-button-primary uk-width-1-1 uk-padding-remove-horizontal",type:"button",onClick:function(){N(!0),m(0),E(w)},children:Object(v.jsx)("span",{"uk-icon":"icon: plus"})})]})]})]})}),(p||b>0)&&Object(v.jsx)("div",{className:"uk-section uk-section-small",children:Object(v.jsxs)("div",{className:"uk-container",children:[Object(v.jsxs)("h3",{className:"uk-heading-line uk-text-center",children:[p&&Object(v.jsx)("span",{children:"Neues Programm"}),b>0&&Object(v.jsx)("span",{children:"Programm bearbeiten"})]}),Object(v.jsxs)("form",{className:"uk-form-stacked",onSubmit:function(e){if(e.preventDefault(),p)k((function(e){return[].concat(Object(u.a)(e),[Object(D.a)({},C)])}));else{var t=Object(u.a)(f);t[b-1]=Object(D.a)({},C),k(t),b===c&&r(!0)}m(0),N(!1),E(w),console.log(C)},children:[Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Startzeit"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsx)("input",{className:"uk-input",type:"time",name:"startTime",value:C.startTime,onChange:_})})]}),Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Dauer"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsx)("input",{className:"uk-input",type:"text",name:"duration",value:C.duration,onChange:_})})]}),Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Interval"}),Object(v.jsx)("div",{className:"uk-form-controls",children:Object(v.jsxs)("select",{className:"uk-select",name:"interval",value:C.interval,onChange:_,children:[Object(v.jsx)("option",{value:"0",children:"3 mal t\xe4glich"}),Object(v.jsx)("option",{value:"1",children:"2 mal t\xe4glich"}),Object(v.jsx)("option",{value:"2",children:"1 mal t\xe4glich"}),Object(v.jsx)("option",{value:"3",children:"Alle zwei Tage"}),Object(v.jsx)("option",{value:"4",children:"Alle drei Tage"}),Object(v.jsx)("option",{value:"5",children:"Einmal die Woche"})]})})]}),Object(v.jsxs)("div",{className:"uk-margin",children:[Object(v.jsx)("label",{className:"uk-form-label",children:"Smarte Bew\xe4sserung"}),Object(v.jsxs)("div",{className:"uk-form-controls",children:[Object(v.jsx)("input",{className:"uk-checkbox",name:"smart",checked:C.smart,onChange:_,type:"checkbox"})," Sensoren verwenden"]})]}),Object(v.jsx)("div",{className:"uk-margin",children:Object(v.jsx)("button",{className:"uk-button uk-button-primary uk-width-1-1",type:"submit",children:"Speichern"})})]})]})})]})},M=c(30),L=c.n(M);var J=function(){var e=Object(j.f)(),t=Object(j.g)(),c=JSON.parse(sessionStorage.getItem("deviceId")),n=Object(a.useState)(!0),s=Object(d.a)(n,2),i=s[0],l=s[1],r=Object(a.useState)(!1),o=Object(d.a)(r,2),m=o[0],h=o[1],O=Object(a.useState)(!1),f=Object(d.a)(O,2),k=f[0],x=f[1],p=Object(a.useState)(null),N=Object(d.a)(p,2),w=N[0],y=N[1],S=Object(a.useState)(c),T=Object(d.a)(S,2),D=T[0],E=T[1],_=Object(a.useState)(!1),I=Object(d.a)(_,2),G=I[0],P=I[1],F=Object(a.useState)([]),M=Object(d.a)(F,2),J=M[0],z=M[1],U=function(){l(!0),window.ble.scan([b],10,(function(e){y(e)}),(function(){})),setTimeout((function(){l(!1)}),1e4)};return Object(a.useEffect)((function(){g.a.use(L.a)})),Object(a.useEffect)((function(){if(t){var e="",c="";switch(t.pathname){case"/home":e="Dashboard",c="dashboard",window.smartgarden.showBottomBar("title",(function(){}),(function(){}));break;case"/watering":e="Bewaesserung",c="watering";break;case"/settings":e="Einstellungen",c="settings";break;default:e="Ger\xe4teauswahl",c="select"}window.smartgarden.changeTitle(e,(function(){}),(function(){})),window.smartgarden.setBottomBarItem(c,(function(){}),(function(){}))}}),[t]),Object(a.useEffect)((function(){m&&(G&&(console.log("save"),sessionStorage.setItem("deviceId",JSON.stringify(D))),k||"/"!==t.pathname||(console.log("redirect"),e.push("/home"),x(!0)))}),[m,k,G,D,e,t]),Object(a.useEffect)((function(){D||"/"===t.pathname||e.push("/")}),[e,D,t]),Object(a.useEffect)((function(){D&&i&&window.ble.stopScan((function(){}),(function(){}))}),[D,i]),Object(a.useEffect)((function(){D&&(l(!1),window.ble.connect(D.id,(function(){h(!0)})))}),[D]),Object(a.useEffect)((function(){w&&z((function(e){return[].concat(Object(u.a)(e),[w])}))}),[w]),Object(a.useEffect)((function(){D||U()}),[D]),Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/watering",children:Object(v.jsx)(R,{})}),Object(v.jsx)(j.a,{exact:!0,path:"/settings",children:Object(v.jsx)(A,{device:D})}),Object(v.jsx)(j.a,{exact:!0,path:"/home",children:Object(v.jsx)(C,{connected:m,device:D})}),Object(v.jsx)(j.a,{exact:!0,path:"/",children:Object(v.jsx)(B,{isScanning:i,scan:U,devices:J,selectDevice:function(e,t){P(t),E(e)}})})]})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))},U=Object(o.a)();document.addEventListener("deviceready",(function(){l.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(r.a,{history:U,children:Object(v.jsx)(J,{})})}),document.getElementById("root"))}),!1),document.addEventListener("backbutton",(function(){console.log("backbutton"),window.location.href="#/home"}),!1),window.App={goToSelect:function(){window.location.href="#/"},goToHome:function(){window.location.href="#/home"},goToWatering:function(){window.location.href="#/watering"},goToSettings:function(){window.location.href="#/settings"}},z()}},[[65,1,2]]]);
//# sourceMappingURL=main.7851800e.chunk.js.map